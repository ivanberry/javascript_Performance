# 9-12 工作记录
- 创建投资组合--BUG修复，功能完善
- slider循环处理细节繁杂，延长开发时间，控件不可控因素太多，建议做优化处理
- 新增弹窗逻辑，尔后又去掉

# 9-13 工作记录

- 创建投资组合--上线准备--BUG修复

# 9-14 工作记录

- 更新与缓存机制的讨论
- 压缩工具
- 表情图像的合并处理

# 9-18 工作记录
- 表情图像的精灵化改版处理

原图为72 * 72的大图，如果采用：

```html
<ul>
<li></li>
<ul>
```
设置`li`的背景图来实现精灵图切换，利用工具生成的`sass`代码中，定死了单个表情图片的大小，所以可能没有办法对图片进行自适应处理（可先利用`flex`布局尝试），解决办法由二：

~~1. flex~~
~~2. 工具所见图片到指定尺寸，然后再重新生成~~
3. 找twitter emoji小尺寸图生成

# 9-19 工作记录
- 优化点

    - 代码量： **gulp**压缩流程
        1. 统计压缩比数据
        2. timeline对比数据
        3. 性能对比数据
        
    - 图表库合一
        1. 统一为~~echarts~~**highchart**，删除不需要的其他库，echarts3不在强制使用amd加载，也未内置amd加载器，可直接引入
        2.~~`investGroupCommon.renderChart`方法需要在一定程度上重写(echarts方法）~~
        3. ~~Mine.renderChart`方法需要在一定程度上重写(highcharts方法）~~
        3. 重写`investGroupComone.renderChart`方法，保留**highchart**的`Mine.renderChart`方法
        3. 测试重写方法的影响
        
    - ~~样式合并~~
       1. 样式合并
       2. 样式载入
       
    - Tab预加载
      1. 根据对用户行为的预测来加载需要的tab内容，而不是直接初始化所有实例(俊哥已完成)
      
- 优化过程的疑难 （解决)
  - 图表库合并不能完美复制园饼图效果
  - 最小角度的定义可以更改，可以解决label线堆叠，切割的问题
  - 视觉上没有小比例的感觉
  - label中的文本字体颜色不能单独定义，只能作为整体定义样式
  
 - 饼图库解决办法
   - 统一图标库为**Highcharts**
   - 更改原**echart**方法为重写方法，主要为：
     - 组合详情页： investGroupDetail.js
     - 创建组合页：invest_instance.js
     - 发现页--最新组合--优选组合--排行榜：find.js 
     - xxx的主页：my_theme.js
     - 首页饼图：investGroup.js
     - 个人主页--投资组合 investGroup.js
     
## 9-22工作记录

### highcharts移除
- 统计`fw.all.js`文件大小
源码移除*highchart*库后，代码量由**777KB**变为**408KB**，本地nginx测试服务器开启**Gzip**后，浏览器请求量由**252KB**变为**130KB**。

```bash
gzip on;
gzip_comp_level 2;
gzip_types application/javascript
```
### index.html index_main.html合并

### animation.css真的有用吗？
据我观察，是没有用上的

##9-26~30 工作记录

- 更新机制测试
 1. 移动端调度未停止(本地浏览器无，PC模拟器无，代理访问存在）
 2. 更改版本号后，index.html修改是否更新
 3. 调度完成后刷新，对缓存资源的请求是否来自缓存(需要对开发服务器端开启可缓存）
 5. 强制更新要上升到最高优先级 考虑删除本地版本号
 6. 离线缓存要能更新
 7.5个tab资源（或者main页面）考虑在首页强制同步载入
 8.版本更新，刷新后跳转到首页？

- 发现刷新页面需求
- 下拉刷新
### 下拉刷新

1. 利用IScroll实现

卡的原因在于**刷新**操作，太多逻辑处理，10个饼图（大），排行榜是否

2. 利用ScrollWatch实现，同时可以做**按需加载**

3. 原生**scroll**事件处理

### 下拉刷新-iscroll篇

对于事件该如何触发，何时触发需要有更加深入的学习

## 10-9记录

### 处理下拉刷新

1. myScroll.scrollTo(x, y, time, easing)
2. 基于时间的交互是不可靠的

利用定时器的交互处理，是不能作为可靠处理，会有意向不到的麻烦

3. 基于事件的交互处理相对可靠

## 10-13工作记录

### IOS10内存调试工具探究

## 10-19

### echart 2.0 不能满足设计要求，只能自定义结构和样式

## 10-20

下午bug修复

延迟原因

- 星期一下午需求整理，缺失部分设计和配置文件
- bug修复
- swiper灵敏度调整

## 10-26
平台页改版，tab切换侧滑支持
发现页面侧滑误点击触发